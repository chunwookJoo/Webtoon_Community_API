"use strict";(self.webpackChunkwebtoon_client=self.webpackChunkwebtoon_client||[]).push([[43,908],{5697:function(e,n,r){r.d(n,{GD:function(){return o},KP:function(){return u},Rw:function(){return h},gB:function(){return l},uK:function(){return d}});var t=r(4165),c=r(5861),a=r(3585),s=r(4227),i=r(7838),o=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.post("/api/board/create",n);case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),(0,s.Z)(a.c9,"red"),new Error(e.t0,"\uc6f9\ud230 \ud6c4\uae30 \uc791\uc131 \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/api".concat(n));case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),(0,s.Z)(a.c9,"red"),new Error(e.t0,"\uc6f9\ud230 \ud6c4\uae30 \ub9ac\uc2a4\ud2b8 \uc870\ud68c \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/api/board/".concat(n));case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),(0,s.Z)(a.c9,"red"),new Error(e.t0,"\uc6f9\ud230 \ud6c4\uae30 \uc870\ud68c \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.post("/comment/insert",n);case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),(0,s.Z)(a.c9,"red"),new Error(e.t0,"\uc6f9\ud230 \ud6c4\uae30 \ub313\uae00 \uc791\uc131 \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/comment/".concat(n));case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),(0,s.Z)(a.c9,"red"),new Error(e.t0,"\uc6f9\ud230 \ud6c4\uae30 \ub313\uae00 \uc870\ud68c \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()},8908:function(e,n,r){r.r(n);r(2791);var t=r(184);n.default=function(e){var n=e.webtoon,r="naver"===n.service?"\ub124\uc774\ubc84 \uc6f9\ud230":"kakao"===n.service?"\uce74\uce74\uc624 \uc6f9\ud230":"\uce74\uce74\uc624\ud398\uc774\uc9c0 \uc6f9\ud230",c=["\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c","\uc77c\uc694\uc77c","\uc644\uacb0","\uc2e0\uc791"];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"webtoon-img",children:(0,t.jsx)("img",{src:n.img})}),(0,t.jsxs)("div",{className:"webtoon-title",children:[(0,t.jsx)("h3",{children:n.title}),(0,t.jsxs)("h5",{children:[n.author," | ",r]})]}),(0,t.jsx)("div",{className:"webtoon-week",children:(0,t.jsx)("ul",{children:n.week.map((function(e,n){return(0,t.jsx)("li",{children:c[e]},n)}))})})]})}},2043:function(e,n,r){r.r(n),r.d(n,{default:function(){return j}});var t=r(4165),c=r(5861),a=r(885),s=r(2791),i=r(6871),o=r(5697),u=r(4746),l=r(6005),d=r(4457),h=r(2708),m=r(8908),p=r(4227),f=r(3585),v=r(184),x=function(e){var n=(0,l.FV)(d.G),r=(0,a.Z)(n,2),i=r[0],u=(r[1],(0,s.useState)()),h=(0,a.Z)(u,2),m=h[0],p=h[1];return(0,s.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Rw)(i._id);case 2:n=e.sent,p(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[e.commentState]),(0,v.jsx)("div",{className:"comment-lists",children:0===(null===m||void 0===m?void 0:m.length)?(0,v.jsxs)("h6",{style:{textAlign:"center",paddingTop:"2rem"},children:["\uc544\uc9c1 \ub313\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. ",(0,v.jsx)("br",{}),"\uccab \ub313\uae00\uc744 \uc791\uc131\ud574\ubcf4\uc138\uc694."]}):(0,v.jsx)(v.Fragment,{children:null===m||void 0===m?void 0:m.map((function(e,n){return(0,v.jsxs)("div",{className:"comment",children:[(0,v.jsxs)("div",{className:"comment-user",children:[(0,v.jsx)("span",{className:"comment-img",children:(0,v.jsx)("img",{src:null===e||void 0===e?void 0:e.author.profileImage,width:24,height:24})}),(0,v.jsxs)("div",{className:"nickname",children:[(0,v.jsx)("h5",{children:null===e||void 0===e?void 0:e.author.nickname}),(0,v.jsx)("span",{children:null===e||void 0===e?void 0:e.createdAt.split("T")[0]})]})]}),(0,v.jsx)("div",{className:"comment-des",children:null===e||void 0===e?void 0:e.comment})]},n)}))})})},w=function(){var e=(0,s.useRef)(),n=(0,l.sJ)(h.E),r=(0,l.sJ)(d.G),i=(0,s.useState)(""),m=(0,a.Z)(i,2),w=m[0],j=m[1],Z=(0,s.useState)(),g=(0,a.Z)(Z,2),b=g[0],k=g[1],N=new Date,y=N.getFullYear()+"-"+("0"+(N.getMonth()+1)).slice(-2)+"-"+("0"+N.getDate()).slice(-2),E=function(){var a=(0,c.Z)((0,t.Z)().mark((function c(){var a,s;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={board_id:r._id,comment:w,author:n._id,createdAt:y},""!==w){t.next=6;break}(0,p.Z)(f.rn,"yellow"),e.current.focus(),t.next=10;break;case 6:return t.next=8,(0,o.uK)(a);case 8:200===(s=t.sent).RESULT&&(j(""),k(s),(0,p.Z)(f.xj,"green"));case 10:case"end":return t.stop()}}),c)})));return function(){return a.apply(this,arguments)}}();return(0,v.jsxs)("section",{className:"webtoon-review",children:[(0,v.jsx)("div",{children:(0,v.jsx)("hr",{})}),(0,v.jsx)(x,{commentState:b}),(0,v.jsxs)("div",{className:"comment-container",children:[(0,v.jsx)("span",{className:"comment-img",children:(0,v.jsx)("img",{src:n.profileImage,width:28,height:28})}),(0,v.jsx)(u.I,{ref:e,value:w,onChange:function(e){return j(e.target.value)},className:"comment-input",placeholder:"\ub313\uae00\uc744 \ub0a8\uaca8\uc8fc\uc138\uc694.",radius:"lg"}),(0,v.jsx)("span",{className:"comment-btn",children:(0,v.jsx)("button",{onClick:E,children:"\ub4f1\ub85d"})})]})]})},j=function(){var e=(0,i.TH)().state,n=(0,l.FV)(d.G),r=(0,a.Z)(n,2),u=r[0],h=r[1];return(0,s.useEffect)((function(){var n=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return window.scrollTo(0,0),n.next=3,(0,o.gB)(e);case 3:r=n.sent,h(r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),(0,v.jsx)("div",{className:"board-detail-global",children:0===u.length?"":(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("section",{className:"board-title-container",children:[(0,v.jsx)("h1",{children:u.title}),(0,v.jsxs)("div",{className:"creater",children:[(0,v.jsx)("span",{className:"board-author-img",children:(0,v.jsx)("img",{src:u.author.profileImage,width:30,height:30})}),(0,v.jsx)("span",{className:"nickname",children:u.author.nickname})]})]}),(0,v.jsx)("section",{className:"webtoon-detail-container",children:(0,v.jsx)(m.default,{webtoon:u.webtoon})}),(0,v.jsx)("section",{className:"board-description-container",children:(0,v.jsx)("div",{children:u.description})}),(0,v.jsx)("section",{children:(0,v.jsx)(w,{})})]})})}},4457:function(e,n,r){r.d(n,{G:function(){return a},c:function(){return c}});var t=r(6005),c=(0,t.cn)({key:"boardListState",default:null}),a=(0,t.cn)({key:"boardDataState",default:[]})}}]);
//# sourceMappingURL=43.850d86f1.chunk.js.map