"use strict";(self.webpackChunkwebtoon_client=self.webpackChunkwebtoon_client||[]).push([[396],{5697:function(e,r,t){t.d(r,{GD:function(){return c},KP:function(){return u},Rw:function(){return p},gB:function(){return l},uK:function(){return d}});var n=t(4165),a=t(5861),i=t(3585),s=t(4227),o=t(7838),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.post("/api/board/create",r);case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,s.Z)(i.c9,"red"),new Error(e.t0,"\uc6f9\ud230 \ud6c4\uae30 \uc791\uc131 \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/api".concat(r));case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,s.Z)(i.c9,"red"),new Error(e.t0,"\uc6f9\ud230 \ud6c4\uae30 \ub9ac\uc2a4\ud2b8 \uc870\ud68c \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/api/board/".concat(r));case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,s.Z)(i.c9,"red"),new Error(e.t0,"\uc6f9\ud230 \ud6c4\uae30 \uc870\ud68c \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.post("/comment/insert",r);case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,s.Z)(i.c9,"red"),new Error(e.t0,"\uc6f9\ud230 \ud6c4\uae30 \ub313\uae00 \uc791\uc131 \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/comment/".concat(r));case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,s.Z)(i.c9,"red"),new Error(e.t0,"\uc6f9\ud230 \ud6c4\uae30 \ub313\uae00 \uc870\ud68c \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}()},1396:function(e,r,t){t.r(r),t.d(r,{default:function(){return re}});var n=t(4165),a=t(5861),i=t(885),s=t(2791),o=t(6871),c=t(5697),u=t(6005),l=t(2708),d=t(4924),p=t(4457),f=t(1832),h=t(4746),v=t(7762),m=t(7462),x=t(3366),b=s.useLayoutEffect,g=function(e,r){"function"!==typeof e?e.current=r:e(r)},w=function(e,r){var t=(0,s.useRef)();return(0,s.useCallback)((function(n){e.current=n,t.current&&g(t.current,null),t.current=r,r&&g(r,n)}),[r])},y={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},j=function(e){Object.keys(y).forEach((function(r){e.style.setProperty(r,y[r],"important")}))},Z=null;var N=function(){},S=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],k=!!document.documentElement.currentStyle,R=function(e){var r=function(e){var r=s.useRef(e);return b((function(){r.current=e})),r}(e);(0,s.useLayoutEffect)((function(){var e=function(e){r.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])},z=function(e,r){var t=e.cacheMeasurements,n=e.maxRows,a=e.minRows,i=e.onChange,o=void 0===i?N:i,c=e.onHeightChange,u=void 0===c?N:c,l=(0,x.Z)(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var d=void 0!==l.value,p=(0,s.useRef)(null),f=w(p,r),h=(0,s.useRef)(0),v=(0,s.useRef)(),b=function(){var e=p.current,r=t&&v.current?v.current:function(e){var r=window.getComputedStyle(e);if(null===r)return null;var t,n=(t=r,S.reduce((function(e,r){return e[r]=t[r],e}),{})),a=n.boxSizing;return""===a?null:(k&&"border-box"===a&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})}(e);if(r){v.current=r;var i=function(e,r,t,n){void 0===t&&(t=1),void 0===n&&(n=1/0),Z||((Z=document.createElement("textarea")).setAttribute("tabindex","-1"),Z.setAttribute("aria-hidden","true"),j(Z)),null===Z.parentNode&&document.body.appendChild(Z);var a=e.paddingSize,i=e.borderSize,s=e.sizingStyle,o=s.boxSizing;Object.keys(s).forEach((function(e){var r=e;Z.style[r]=s[r]})),j(Z),Z.value=r;var c=function(e,r){var t=e.scrollHeight;return"border-box"===r.sizingStyle.boxSizing?t+r.borderSize:t-r.paddingSize}(Z,e);Z.value="x";var u=Z.scrollHeight-a,l=u*t;"border-box"===o&&(l=l+a+i),c=Math.max(l,c);var d=u*n;return"border-box"===o&&(d=d+a+i),[c=Math.min(d,c),u]}(r,e.value||e.placeholder||"x",a,n),s=i[0],o=i[1];h.current!==s&&(h.current=s,e.style.setProperty("height",s+"px","important"),u(s,{rowHeight:o}))}};return(0,s.useLayoutEffect)(b),R(b),(0,s.createElement)("textarea",(0,m.Z)({},l,{onChange:function(e){d||b(),o(e)},ref:f}))},E=(0,s.forwardRef)(z),C=t(9557),P=t(7226),O=t(1005),W=(0,t(7581).k)((function(e){return{input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}})),_=Object.defineProperty,T=Object.defineProperties,F=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,q=function(e,r,t){return r in e?_(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t},B=function(e,r){for(var t in r||(r={}))L.call(r,t)&&q(e,t,r[t]);if(I){var n,a=(0,v.Z)(I(r));try{for(a.s();!(n=a.n()).done;){t=n.value;H.call(r,t)&&q(e,t,r[t])}}catch(i){a.e(i)}finally{a.f()}}return e},D=function(e,r){return T(e,F(r))},G={autosize:!1,size:"sm",__staticSelector:"Textarea"},M=(0,s.forwardRef)((function(e,r){var t=(0,P.N4)("Textarea",G,e),n=t.autosize,a=t.maxRows,i=t.minRows,o=t.label,c=t.error,u=t.description,l=t.id,d=t.className,p=t.required,f=t.style,m=t.wrapperProps,x=t.classNames,b=t.styles,g=t.size,w=t.__staticSelector,y=t.sx,j=t.errorProps,Z=t.descriptionProps,N=t.labelProps,S=t.inputWrapperOrder,k=t.inputContainer,R=t.unstyled,z=function(e,r){var t={};for(var n in e)L.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&I){var a,i=(0,v.Z)(I(e));try{for(i.s();!(a=i.n()).done;)n=a.value,r.indexOf(n)<0&&H.call(e,n)&&(t[n]=e[n])}catch(s){i.e(s)}finally{i.f()}}return t}(t,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled"]),_=(0,C.M)(l),T=W(),F=T.classes,q=T.cx,M=(0,O.x)(z),A=M.systemStyles,J=M.rest,K=B({required:p,ref:r,invalid:!!c,id:_,classNames:D(B({},x),{input:q(F.input,null==x?void 0:x.input)}),styles:b,__staticSelector:w,size:g,multiline:!0,unstyled:R},J);return s.createElement(h.I.Wrapper,B(B({label:o,error:c,id:_,description:u,required:p,style:f,className:d,classNames:x,styles:b,size:g,__staticSelector:w,sx:y,errorProps:j,labelProps:N,descriptionProps:Z,inputContainer:k,inputWrapperOrder:S,unstyled:R},A),m),n?s.createElement(h.I,D(B({},K),{component:E,maxRows:a,minRows:i})):s.createElement(h.I,D(B({},K),{component:"textarea",rows:i})))}));M.displayName="@mantine/core/Textarea";var A=t(7998),J=t(9348),K=t(8956),Q=t(4227),V=t(3585),Y=t(4554),$=t(184),U=function(e){var r=e.isOpen,t=e.toggle,o=(0,$.jsx)($.Fragment,{}),d=[(0,$.jsx)("li",{className:"no-search-result",children:"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ud83d\ude25"})],p=(0,s.useState)(""),v=(0,i.Z)(p,2),m=v[0],x=v[1],b=(0,s.useState)(""),g=(0,i.Z)(b,2),w=g[0],y=g[1],j=(0,s.useState)(""),Z=(0,i.Z)(j,2),N=Z[0],S=Z[1],k=(0,s.useState)(""),R=(0,i.Z)(k,2),z=R[0],E=R[1],C=(0,s.useState)(!0),P=(0,i.Z)(C,2),O=(P[0],P[1]),W=2,_=12*W,T=(0,s.useState)([]),F=(0,i.Z)(T,2),I=F[0],L=F[1],H=(0,s.useState)([]),q=(0,i.Z)(H,2),B=q[0],D=(q[1],(0,s.useState)(null)),G=(0,i.Z)(D,2),U=G[0],X=G[1],ee=(0,u.sJ)(l.E);(0,s.useEffect)((function(){w?(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Y.uG)(w);case 2:r=e.sent,Array.isArray(r)?L(r.map((function(e,r){return(0,$.jsx)("li",{className:"searched-item-wrap",onClick:function(){return X(e)},children:(0,$.jsxs)("article",{className:"searched-item",children:[(0,$.jsx)("img",{src:e.img,width:80,height:80}),(0,$.jsx)("span",{className:"searched-title",children:e.title}),(0,$.jsx)("small",{children:"naver"===e.service?"\ub124\uc774\ubc84":"kakao"===e.service?"\uce74\uce74\uc624":"\uce74\uce74\uc624\ud398\uc774\uc9c0"})]})},e._id)}))):L(d);case 4:case"end":return e.stop()}}),e)})))():L([])}),[w]),(0,s.useEffect)((function(){null!==U&&L([])}),[U]);var re=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={title:N,description:z,author:ee._id,webtoon:null===U||void 0===U?void 0:U._id,service:null===U||void 0===U?void 0:U.service},""!==N&&""!==z&&null!==U){e.next=5;break}(0,Q.Z)(V.g$,"yellow"),e.next=9;break;case 5:return e.next=7,(0,c.GD)(r);case 7:200===e.sent.RESULT&&(t(),S(""),E(""),X(null),(0,Q.Z)(V.pH,"green"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=(0,J.YD)(),ne=(0,i.Z)(te,2),ae=ne[0];ne[1]&&W++;var ie=_<B.length&&24<=B.length?(0,$.jsx)("li",{ref:ae,className:"loading",children:(0,$.jsx)(A.Z,{})}):o;return B.slice(0,12*W).push(ie),(0,$.jsxs)(f.u,{title:"\ud6c4\uae30 \uc791\uc131",fullScreen:!0,overflow:"inside",opened:r,onClose:t,className:"create-board-modal-container",children:[(0,$.jsx)("div",{className:"create-board-input",children:null===U?"":(0,$.jsxs)("article",{className:"selected-item",children:[(0,$.jsxs)("div",{className:"selected-img",children:[(0,$.jsx)("img",{src:U.img,width:100,height:100}),(0,$.jsx)("span",{className:"deleted-img",onClick:function(){X(null)},children:(0,$.jsx)(K.NZF,{})})]}),(0,$.jsx)("span",{className:"searched-title",children:U.title}),(0,$.jsx)("small",{children:"naver"===U.service?"\ub124\uc774\ubc84":"kakao"===U.service?"\uce74\uce74\uc624":"\uce74\uce74\uc624\ud398\uc774\uc9c0"})]})}),(0,$.jsx)("div",{className:"create-board-input",children:(0,$.jsx)(h.I.Wrapper,{label:"\uc6f9\ud230 \uac80\uc0c9",required:!0,children:(0,$.jsx)(h.I,{disabled:null!==U,placeholder:"\uc791\ud488 \ub610\ub294 \uc791\uac00\ub85c \uac80\uc0c9\ud55c \ud6c4 \uc120\ud0dd\ud558\uc138\uc694.",data:B,value:m,onChange:function(e){O(!0),x(e.target.value);var r=e.target.value;setTimeout((function(){var t=e.target.value;t===r&&y(t)}),500)}})})}),(0,$.jsx)("ul",{className:"search-result",children:I}),(0,$.jsx)("div",{className:"create-board-input",children:(0,$.jsx)(h.I.Wrapper,{label:"\uc81c\ubaa9",required:!0,children:(0,$.jsx)(h.I,{placeholder:"\ud6c4\uae30 \uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",value:N,onChange:function(e){S(e.target.value)}})})}),(0,$.jsx)("div",{className:"create-board-input",children:(0,$.jsx)(h.I.Wrapper,{label:"\ub0b4\uc6a9",required:!0,children:(0,$.jsx)(M,{minRows:8,maxRows:12,placeholder:"\ud6c4\uae30 \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",value:z,onChange:function(e){E(e.target.value)}})})}),(0,$.jsx)("div",{className:"create-board-btn",children:(0,$.jsx)("button",{onClick:re,children:"\ud6c4\uae30 \uc791\uc131"})})]})},X=t(2434),ee=function(){var e=(0,u.FV)(d.QD),r=(0,i.Z)(e,2),t=r[0],n=r[1],a=function(){null!==(0,X.$o)(V.E1)?n(!t):(0,Q.Z)(V.yT,"yellow")};return(0,$.jsxs)("div",{className:"create-board-container",children:[(0,$.jsx)("div",{className:"create-board-btn",onClick:a,children:(0,$.jsx)(K.TRY,{})}),(0,$.jsx)(U,{isOpen:t,toggle:a})]})},re=function(){var e=(0,o.s0)(),r=(0,o.TH)().state,t=(0,u.FV)(p.c),f=(0,i.Z)(t,2),h=f[0],v=f[1],m=(0,u.Zl)(p.G),x=(0,u.sJ)(l.s),b=(0,u.sJ)(d.QD);(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return e.next=3,(0,c.KP)(r);case 3:t=e.sent,v(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r,b]);return(0,$.jsxs)("div",{className:"board-container",children:[0===(null===h||void 0===h?void 0:h.length)?(0,$.jsxs)("div",{className:"empty-board",children:[(0,$.jsx)("h2",{children:"/board"===r?"\ud6c4\uae30\uac00 \uc544\uc9c1 \uc5c6\uc5b4\uc694 \ud83d\ude25":"\ud574\ub2f9\ud558\ub294 \ud50c\ub7ab\ud3fc\uc758 \ud6c4\uae30\uac00 \uc544\uc9c1 \uc5c6\uc5b4\uc694 \ud83d\ude25"}),(0,$.jsx)("h4",{children:"\uae30\uc5b5\uc5d0 \ub0a8\ub294 \uc6f9\ud230\uc758 \ud6c4\uae30\ub97c \uc791\uc131\ud574\ubcf4\uc138\uc694."})]}):(0,$.jsx)("ul",{className:"board-list",children:null===h||void 0===h?void 0:h.map((function(r,t){return(0,$.jsxs)("li",{className:"board",onClick:function(t){return function(r,t){null===x?(0,Q.Z)(V.yT,"yellow"):(m(t),e("/board/detail",{state:t._id}))}(0,r)},children:[(0,$.jsx)("div",{className:"board-img-container",children:(0,$.jsx)("img",{src:r.webtoon.img,className:"board-img"})}),(0,$.jsxs)("div",{className:"board-description",children:[(0,$.jsx)("h4",{children:r.title}),(0,$.jsxs)("h5",{children:[r.webtoon.title," | ",r.webtoon.author]}),(0,$.jsxs)("div",{className:"creater",children:[(0,$.jsx)("span",{className:"board-author-img",children:(0,$.jsx)("img",{src:r.author.profileImage,width:28,height:28})}),"by",(0,$.jsx)("span",{className:"nickname",children:r.author.nickname})]}),(0,$.jsx)("p",{children:r.description})]})]},t)}))}),(0,$.jsx)(ee,{})]})}},4457:function(e,r,t){t.d(r,{G:function(){return i},c:function(){return a}});var n=t(6005),a=(0,n.cn)({key:"boardListState",default:null}),i=(0,n.cn)({key:"boardDataState",default:[]})}}]);
//# sourceMappingURL=396.250215eb.chunk.js.map