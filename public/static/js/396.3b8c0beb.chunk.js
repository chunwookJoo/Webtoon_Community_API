"use strict";(self.webpackChunkwebtoon_client=self.webpackChunkwebtoon_client||[]).push([[396],{1396:function(e,t,r){r.r(t),r.d(t,{default:function(){return ee}});var n=r(885),a=r(2791),i=r(6871),s=r(4569),o=r.n(s),l=r(3197),c=r(3090),d=r(6005),u=r(2708),p=r(4924),h=r(4457),m=r(4165),f=r(5861),x=r(1832),g=r(4746),v=r(7762),b=r(7462),j=r(3366),y=a.useLayoutEffect,w=function(e,t){"function"!==typeof e?e.current=t:e(t)},N=function(e,t){var r=(0,a.useRef)();return(0,a.useCallback)((function(n){e.current=n,r.current&&w(r.current,null),r.current=t,t&&w(t,n)}),[t])},S={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},z=function(e){Object.keys(S).forEach((function(t){e.style.setProperty(t,S[t],"important")}))},C=null;var R=function(){},k=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Z=!!document.documentElement.currentStyle,E=function(e){var t=function(e){var t=a.useRef(e);return y((function(){t.current=e})),t}(e);(0,a.useLayoutEffect)((function(){var e=function(e){t.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])},F=function(e,t){var r=e.cacheMeasurements,n=e.maxRows,i=e.minRows,s=e.onChange,o=void 0===s?R:s,l=e.onHeightChange,c=void 0===l?R:l,d=(0,j.Z)(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var u=void 0!==d.value,p=(0,a.useRef)(null),h=N(p,t),m=(0,a.useRef)(0),f=(0,a.useRef)(),x=function(){var e=p.current,t=r&&f.current?f.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r,n=(r=t,k.reduce((function(e,t){return e[t]=r[t],e}),{})),a=n.boxSizing;return""===a?null:(Z&&"border-box"===a&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})}(e);if(t){f.current=t;var a=function(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=1/0),C||((C=document.createElement("textarea")).setAttribute("tabindex","-1"),C.setAttribute("aria-hidden","true"),z(C)),null===C.parentNode&&document.body.appendChild(C);var a=e.paddingSize,i=e.borderSize,s=e.sizingStyle,o=s.boxSizing;Object.keys(s).forEach((function(e){var t=e;C.style[t]=s[t]})),z(C),C.value=t;var l=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize}(C,e);C.value="x";var c=C.scrollHeight-a,d=c*r;"border-box"===o&&(d=d+a+i),l=Math.max(d,l);var u=c*n;return"border-box"===o&&(u=u+a+i),[l=Math.min(u,l),c]}(t,e.value||e.placeholder||"x",i,n),s=a[0],o=a[1];m.current!==s&&(m.current=s,e.style.setProperty("height",s+"px","important"),c(s,{rowHeight:o}))}};return(0,a.useLayoutEffect)(x),E(x),(0,a.createElement)("textarea",(0,b.Z)({},d,{onChange:function(e){u||x(),o(e)},ref:h}))},O=(0,a.forwardRef)(F),P=r(9557),T=r(7226),W=r(1005),_=(0,r(7581).k)((function(e){return{input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}})),I=Object.defineProperty,L=Object.defineProperties,q=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,D=function(e,t,r){return t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},M=function(e,t){for(var r in t||(t={}))B.call(t,r)&&D(e,r,t[r]);if(H){var n,a=(0,v.Z)(H(t));try{for(a.s();!(n=a.n()).done;){r=n.value;V.call(t,r)&&D(e,r,t[r])}}catch(i){a.e(i)}finally{a.f()}}return e},A=function(e,t){return L(e,q(t))},G={autosize:!1,size:"sm",__staticSelector:"Textarea"},Q=(0,a.forwardRef)((function(e,t){var r=(0,T.N4)("Textarea",G,e),n=r.autosize,i=r.maxRows,s=r.minRows,o=r.label,l=r.error,c=r.description,d=r.id,u=r.className,p=r.required,h=r.style,m=r.wrapperProps,f=r.classNames,x=r.styles,b=r.size,j=r.__staticSelector,y=r.sx,w=r.errorProps,N=r.descriptionProps,S=r.labelProps,z=r.inputWrapperOrder,C=r.inputContainer,R=r.unstyled,k=function(e,t){var r={};for(var n in e)B.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&H){var a,i=(0,v.Z)(H(e));try{for(i.s();!(a=i.n()).done;)n=a.value,t.indexOf(n)<0&&V.call(e,n)&&(r[n]=e[n])}catch(s){i.e(s)}finally{i.f()}}return r}(r,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled"]),Z=(0,P.M)(d),E=_(),F=E.classes,I=E.cx,L=(0,W.x)(k),q=L.systemStyles,D=L.rest,Q=M({required:p,ref:t,invalid:!!l,id:Z,classNames:A(M({},f),{input:I(F.input,null==f?void 0:f.input)}),styles:x,__staticSelector:j,size:b,multiline:!0,unstyled:R},D);return a.createElement(g.I.Wrapper,M(M({label:o,error:l,id:Z,description:c,required:p,style:h,className:u,classNames:f,styles:x,size:b,__staticSelector:j,sx:y,errorProps:w,labelProps:S,descriptionProps:N,inputContainer:C,inputWrapperOrder:z,unstyled:R},q),m),n?a.createElement(g.I,A(M({},Q),{component:O,maxRows:i,minRows:s})):a.createElement(g.I,A(M({},Q),{component:"textarea",rows:s})))}));Q.displayName="@mantine/core/Textarea";var Y=r(7998),U=r(9348),J=r(8956),K=r(184),X=function(e){var t=e.isOpen,r=e.toggle,i=(0,K.jsx)(K.Fragment,{}),s=[(0,K.jsx)("li",{className:"no-search-result",children:"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ud83d\ude25"})],p=(0,a.useState)(""),h=(0,n.Z)(p,2),v=h[0],b=h[1],j=(0,a.useState)(""),y=(0,n.Z)(j,2),w=y[0],N=y[1],S=(0,a.useState)(""),z=(0,n.Z)(S,2),C=z[0],R=z[1],k=(0,a.useState)(""),Z=(0,n.Z)(k,2),E=Z[0],F=Z[1],O=(0,a.useState)(!0),P=(0,n.Z)(O,2),T=(P[0],P[1]),W=2,_=12*W,I=(0,a.useState)([]),L=(0,n.Z)(I,2),q=L[0],H=L[1],B=(0,a.useState)([]),V=(0,n.Z)(B,2),D=V[0],M=(V[1],(0,a.useState)(null)),A=(0,n.Z)(M,2),G=A[0],X=A[1],$=(0,d.FV)(u.E),ee=(0,n.Z)($,2),te=ee[0];ee[1];(0,a.useEffect)((function(){w?(0,f.Z)((0,m.Z)().mark((function e(){var t,r;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("".concat(l.T5,"/search?keyword=").concat(w));case 2:t=e.sent,r=t.data,Array.isArray(r)?H(r.map((function(e,t){return(0,K.jsx)("li",{className:"searched-item-wrap",onClick:function(){return X(e)},children:(0,K.jsxs)("article",{className:"searched-item",children:[(0,K.jsx)("img",{src:e.img,width:80,height:80}),(0,K.jsx)("span",{className:"searched-title",children:e.title}),(0,K.jsx)("small",{children:"naver"===e.service?"\ub124\uc774\ubc84":"kakao"===e.service?"\uce74\uce74\uc624":"\uce74\uce74\uc624\ud398\uc774\uc9c0"})]})},t)}))):H(s);case 5:case"end":return e.stop()}}),e)})))():H([])}),[w]),(0,a.useEffect)((function(){null!==G&&H([])}),[G]);var re={title:C,description:E,author:te._id,webtoon:null===G||void 0===G?void 0:G._id,service:null===G||void 0===G?void 0:G.service},ne=(0,U.YD)(),ae=(0,n.Z)(ne,2),ie=ae[0];ae[1]&&W++;var se=_<D.length&&24<=D.length?(0,K.jsx)("li",{ref:ie,className:"loading",children:(0,K.jsx)(Y.Z,{})}):i;return D.slice(0,12*W).push(se),(0,K.jsxs)(x.u,{title:"\ud6c4\uae30 \uc791\uc131",fullScreen:!0,overflow:"inside",opened:t,onClose:r,className:"create-board-modal-container",children:[(0,K.jsx)("div",{className:"create-board-input",children:null===G?"":(0,K.jsxs)("article",{className:"selected-item",children:[(0,K.jsxs)("div",{className:"selected-img",children:[(0,K.jsx)("img",{src:G.img,width:100,height:100}),(0,K.jsx)("span",{className:"deleted-img",onClick:function(){X(null)},children:(0,K.jsx)(J.NZF,{})})]}),(0,K.jsx)("span",{className:"searched-title",children:G.title}),(0,K.jsx)("small",{children:"naver"===G.service?"\ub124\uc774\ubc84":"kakao"===G.service?"\uce74\uce74\uc624":"\uce74\uce74\uc624\ud398\uc774\uc9c0"})]})}),(0,K.jsx)("div",{className:"create-board-input",children:(0,K.jsx)(g.I.Wrapper,{label:"\uc6f9\ud230 \uac80\uc0c9",required:!0,children:(0,K.jsx)(g.I,{disabled:null!==G,placeholder:"\uc791\ud488 \ub610\ub294 \uc791\uac00\ub85c \uac80\uc0c9\ud55c \ud6c4 \uc120\ud0dd\ud558\uc138\uc694.",data:D,value:v,onChange:function(e){T(!0),b(e.target.value);var t=e.target.value;setTimeout((function(){var r=e.target.value;r===t&&N(r)}),500)}})})}),(0,K.jsx)("ul",{className:"search-result",children:q}),(0,K.jsx)("div",{className:"create-board-input",children:(0,K.jsx)(g.I.Wrapper,{label:"\uc81c\ubaa9",required:!0,children:(0,K.jsx)(g.I,{placeholder:"\ud6c4\uae30 \uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",value:C,onChange:function(e){R(e.target.value)}})})}),(0,K.jsx)("div",{className:"create-board-input",children:(0,K.jsx)(g.I.Wrapper,{label:"\ub0b4\uc6a9",required:!0,children:(0,K.jsx)(Q,{minRows:8,maxRows:12,placeholder:"\ud6c4\uae30 \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",value:E,onChange:function(e){F(e.target.value)}})})}),(0,K.jsx)("div",{className:"create-board-btn",children:(0,K.jsx)("button",{onClick:function(){""===C||""===E||null===G?(0,c.c0)({message:"\ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694.",autoClose:1500,radius:"md",color:"yellow"}):o().post(l.T5+"/api/board/create",re).then((function(e){200===e.data.RESULT?(r(),R(""),F(""),X(null),(0,c.c0)({message:"\ud6c4\uae30\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \uc791\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",autoClose:2e3,radius:"md",color:"green"})):console.log(e)}))},children:"\ud6c4\uae30 \uc791\uc131"})})]})},$=function(){var e=(0,d.FV)(p.QD),t=(0,n.Z)(e,2),r=t[0],a=t[1],i=function(){null!==localStorage.getItem("userId")?a(!r):(0,c.c0)({message:"\ub85c\uadf8\uc778\uc744 \uba3c\uc800 \ud574\uc8fc\uc138\uc694.",autoClose:1500,radius:"md",color:"yellow"})};return(0,K.jsxs)("div",{className:"create-board-container",children:[(0,K.jsx)("div",{className:"create-board-btn",onClick:i,children:(0,K.jsx)(J.TRY,{})}),(0,K.jsx)(X,{isOpen:r,toggle:i})]})},ee=function(){var e=(0,i.s0)(),t=(0,i.TH)().state,r=(0,d.FV)(h.c),s=(0,n.Z)(r,2),m=s[0],f=s[1],x=(0,d.FV)(h.G),g=(0,n.Z)(x,2),v=(g[0],g[1]),b=(0,d.FV)(u.s),j=(0,n.Z)(b,2),y=j[0],w=(j[1],(0,d.FV)(p.QD)),N=(0,n.Z)(w,2),S=N[0];N[1];(0,a.useEffect)((function(){o().get(l.T5+(null===t?"/api/board":"/api"+t)).then((function(e){f(e.data)}))}),[t,S]);return(0,K.jsxs)("div",{className:"board-container",children:[0===(null===m||void 0===m?void 0:m.length)?(0,K.jsxs)("div",{className:"empty-board",children:[(0,K.jsx)("h2",{children:"/board"===t?"\ud6c4\uae30\uac00 \uc544\uc9c1 \uc5c6\uc5b4\uc694 \ud83d\ude25":"\ud574\ub2f9\ud558\ub294 \ud50c\ub7ab\ud3fc\uc758 \ud6c4\uae30\uac00 \uc544\uc9c1 \uc5c6\uc5b4\uc694 \ud83d\ude25"}),(0,K.jsx)("h4",{children:"\uae30\uc5b5\uc5d0 \ub0a8\ub294 \uc6f9\ud230\uc758 \ud6c4\uae30\ub97c \uc791\uc131\ud574\ubcf4\uc138\uc694."})]}):(0,K.jsx)("ul",{className:"board-list",children:null===m||void 0===m?void 0:m.map((function(t,r){return(0,K.jsxs)("li",{className:"board",onClick:function(r){return function(t,r){null===y?(0,c.c0)({message:"\ub85c\uadf8\uc778\uc744 \uba3c\uc800 \ud574\uc8fc\uc138\uc694.",autoClose:1500,radius:"md",color:"yellow"}):(v(r),e("/board/detail",{state:r._id}))}(0,t)},children:[(0,K.jsx)("div",{className:"board-img-container",children:(0,K.jsx)("img",{src:t.webtoon.img,className:"board-img"})}),(0,K.jsxs)("div",{className:"board-description",children:[(0,K.jsx)("h4",{children:t.title}),(0,K.jsxs)("h5",{children:[t.webtoon.title," | ",t.webtoon.author]}),(0,K.jsxs)("div",{className:"creater",children:[(0,K.jsx)("span",{className:"board-author-img",children:(0,K.jsx)("img",{src:t.author.profileImage,width:28,height:28})}),"by",(0,K.jsx)("span",{className:"nickname",children:t.author.nickname})]}),(0,K.jsx)("p",{children:t.description})]})]},r)}))}),(0,K.jsx)($,{})]})}},4457:function(e,t,r){r.d(t,{G:function(){return i},c:function(){return a}});var n=r(6005),a=(0,n.cn)({key:"boardListState",default:null}),i=(0,n.cn)({key:"boardDataState",default:[]})}}]);
//# sourceMappingURL=396.3b8c0beb.chunk.js.map