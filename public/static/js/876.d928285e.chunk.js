"use strict";(self.webpackChunkwebtoon_client=self.webpackChunkwebtoon_client||[]).push([[876],{9320:function(e,n,r){r.d(n,{Lj:function(){return l},T9:function(){return i},o8:function(){return o}});var a=r(4165),t=r(5861),u=r(3585),c=r(4227),s=r(7838),i=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n,r){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post("/auth/userinfo/profileimg/upload/".concat(n),r,{headers:{"Content-Type":"multipart/form-data"}});case 3:t=e.sent,t.data,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),(0,c.Z)(u.c9,"red"),new Error(e.t0,"\ud504\ub85c\ud544 \uc0ac\uc9c4 \uc5c5\ub85c\ub4dc \uc5d0\ub7ec");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,r){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n,r){var t,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post("/auth/userinfo/update/".concat(n),r);case 3:return t=e.sent,i=t.data,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),(0,c.Z)(u.c9,"red"),new Error(e.t0,"\ud504\ub85c\ud544 \ubcc0\uacbd \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,r){return e.apply(this,arguments)}}(),o=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){var r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post("/auth/nickname/check",n);case 3:return r=e.sent,t=r.data,e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(0),(0,c.Z)(u.c9,"red"),new Error(e.t0,"\ub2c9\ub124\uc784 \uccb4\ud06c \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()},3817:function(e,n,r){r.d(n,{Z:function(){return g}});var a=r(4165),t=r(5861),u=r(885),c=r(2791),s=r(6871),i=r(4746),l=r(2667),o=r(3585),p=r(4227),d=r(7838),f=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n,r){var t,u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="kakao"===n?"kakaoSignUp":"naverSignUp",e.prev=1,e.next=4,d.Z.post("/auth/".concat(t),r);case 4:return u=e.sent,c=u.data,e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(1),(0,p.Z)(o.c9,"red"),new Error(e.t0,"".concat(n," \ud68c\uc6d0\uac00\uc785 \uc5d0\ub7ec"));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n,r){return e.apply(this,arguments)}}(),h=r(6005),v=r(2708),m=r(9890),x=r(8144),k=r(2434),Z=r(2670),b=r(184),g=function(e){var n=(0,s.s0)(),r=(0,c.useRef)(),d=e.platform,g=e.account,j=e.token,w=e.id,y=g.email,N="kakao"===d?g.profile.thumbnail_image_url:g.profile_image,S=(0,c.useState)("kakao"===d?g.age_range:g.age.replace("-","~")),T=(0,u.Z)(S,2),E=T[0],_=T[1],C=(0,c.useState)("M"===g.gender||"male"===g.gender?"male":"female"),I=(0,u.Z)(C,2),q=I[0],L=I[1],U=(0,h.Zl)(v.s),R=(0,h.Zl)(v.E),V=(0,c.useState)(""),W=(0,u.Z)(V,2),Q=W[0],M=W[1],P=(0,c.useState)("empty"),z=(0,u.Z)(P,2),H=z[0],A=z[1],B=function(e,n){"nickname"===n?M(e.target.value):"age"===n?_(e):"gender"===n&&L(e)},D=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=A,e.next=3,(0,x.Z)(Q);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(t,u){var c,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={kakaoToken:j,id:w,email:y,profileImage:N,nickname:Q,age:E,gender:q},s={naverToken:j,id:w,email:y,profileImage:N,nickname:Q,age:E,gender:q},"available"!==H){e.next=9;break}return e.next=5,f(u,"kakao"===u?c:s);case 5:200===(i=e.sent).RESULT&&(U(i.jwtToken),R(i.user_data),(0,k.qQ)(o.Qj,i.jwtToken),(0,k.qQ)(o.E1,i.user_data.id),n("/"),(0,p.Z)(o.Nh,"green")),e.next=11;break;case 9:r.current.focus(),(0,p.Z)(o.Mi,"yellow");case 11:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}();return(0,b.jsx)("div",{className:"regist-container",children:(0,b.jsxs)("div",{className:"regist-form-group",children:[(0,b.jsxs)("div",{className:"regist-title",children:[(0,b.jsx)(m.r,{}),(0,b.jsx)("h3",{children:"\ud68c\uc6d0\uac00\uc785"})]}),(0,b.jsxs)("div",{className:"regist-form",children:[(0,b.jsx)("div",{className:"regist-input",children:(0,b.jsx)(i.I.Wrapper,{label:"\uc774\uba54\uc77c",required:!0,children:(0,b.jsx)(i.I,{defaultValue:g.email,disabled:!0})})}),(0,b.jsxs)("div",{className:"regist-input",children:[(0,b.jsxs)(i.I.Wrapper,{label:"\ub2c9\ub124\uc784",required:!0,children:["\xa0",(0,b.jsxs)("span",{style:{fontSize:"12px"},children:["(",Q.length,"/8\uc790)"]}),(0,b.jsx)(i.I,{maxLength:8,placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694.",onChange:function(e){return B(e,"nickname")},defaultValue:Q,ref:r})]}),(0,b.jsxs)("div",{className:"nickname-check",children:["empty"===H?(0,b.jsx)("span",{className:"unavailable",children:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."}):"available"===H?(0,b.jsx)("span",{className:"available",children:"\uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4."}):(0,b.jsx)("span",{className:"unavailable",children:"\uc774\ubbf8 \uc0ac\uc6a9\uc911\uc778 \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4."}),(0,b.jsx)("button",{onClick:function(e){return D(e)},children:"\uc911\ubcf5\uccb4\ud06c"})]})]}),(0,b.jsx)("div",{className:"regist-input",children:(0,b.jsx)(i.I.Wrapper,{label:"\ub098\uc774",required:!0,children:(0,b.jsx)(l.Ph,{placeholder:"\ubcf8\uc778 \uc5f0\ub839\ub300\ub97c \uc120\ud0dd\ud558\uc138\uc694.",data:Z.e,defaultValue:E,onChange:function(e){return B(e,"age")}})})}),(0,b.jsx)("div",{className:"regist-input",children:(0,b.jsx)(i.I.Wrapper,{label:"\uc131\ubcc4",required:!0,children:(0,b.jsx)(l.Ph,{placeholder:"\uc131\ubcc4\uc744 \uc120\ud0dd\ud558\uc138\uc694.",data:Z.y,defaultValue:q,onChange:function(e){return B(e,"gender")}})})})]}),(0,b.jsx)("div",{className:"regist-btn",children:(0,b.jsx)("button",{onClick:function(e){return F(e,d)},children:"\ud68c\uc6d0\uac00\uc785\ud558\uae30"})})]})})}},6876:function(e,n,r){r.r(n);r(2791);var a=r(6871),t=r(3817),u=r(184);n.default=function(){var e=(0,a.TH)().state,n=e.data,r=e.platform,c=n.access_token,s=n.id;return(0,u.jsx)(t.Z,{platform:r,account:n,token:c,id:s})}},8144:function(e,n,r){var a=r(4165),t=r(5861),u=r(9320),c=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){var r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={nickname:n},""!==n){e.next=3;break}return e.abrupt("return","empty");case 3:return e.next=5,(0,u.o8)(r);case 5:if(200!==(t=e.sent).RESULT){e.next=10;break}return e.abrupt("return","available");case 10:if(403!==t.RESULT){e.next=12;break}return e.abrupt("return","unavailable");case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();n.Z=c},2670:function(e,n,r){r.d(n,{e:function(){return a},y:function(){return t}});var a=[{value:"10~19",label:"10\ub300"},{value:"20~29",label:"20\ub300"},{value:"30~39",label:"30\ub300"},{value:"40~49",label:"40\ub300"},{value:"50~59",label:"50\ub300"},{value:"60~69",label:"60\ub300"}],t=[{value:"male",label:"\ub0a8\uc790"},{value:"female",label:"\uc5ec\uc790"}]}}]);
//# sourceMappingURL=876.d928285e.chunk.js.map