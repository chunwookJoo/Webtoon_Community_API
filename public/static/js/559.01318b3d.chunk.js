"use strict";(self.webpackChunkwebtoon_client=self.webpackChunkwebtoon_client||[]).push([[559],{9320:function(e,n,r){r.d(n,{Lj:function(){return l},T9:function(){return s},o8:function(){return o}});var t=r(4165),a=r(5861),u=r(3585),c=r(4227),i=r(7838),s=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.post("/auth/userinfo/profileimg/upload/".concat(n),r,{headers:{"Content-Type":"multipart/form-data"}});case 3:a=e.sent,a.data,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),(0,c.Z)(u.c9,"red"),new Error(e.t0,"\ud504\ub85c\ud544 \uc0ac\uc9c4 \uc5c5\ub85c\ub4dc \uc5d0\ub7ec");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,r){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.post("/auth/userinfo/update/".concat(n),r);case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(0),(0,c.Z)(u.c9,"red"),new Error(e.t0,"\ud504\ub85c\ud544 \ubcc0\uacbd \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,r){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.post("/auth/nickname/check",n);case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,c.Z)(u.c9,"red"),new Error(e.t0,"\ub2c9\ub124\uc784 \uccb4\ud06c \uc5d0\ub7ec");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()},1559:function(e,n,r){r.r(n),r.d(n,{default:function(){return Z}});var t=r(4165),a=r(5861),u=r(885),c=r(2791),i=r(6871),s=r(9320),l=r(5587),o=r(4746),f=r(2667),p=r(6005),d=r(2708),h=r(4227),v=r(2670),m=r(3585),x=r(8144),b=r(184),Z=function(){var e=(0,i.TH)().state,n=(0,i.s0)(),r=e,Z=(0,c.useRef)(),k=(0,c.useRef)(),w=(0,p.Zl)(d.E),g=(0,c.useState)(r.profileImage),j=(0,u.Z)(g,2),y=j[0],N=j[1],C=(0,c.useState)(r.nickname),S=(0,u.Z)(C,2),T=S[0],E=S[1],L=(0,c.useState)("empty"),R=(0,u.Z)(L,2),I=R[0],q=R[1],U=(0,c.useState)(r.age),W=(0,u.Z)(U,2),z=W[0],D=W[1],P=(0,c.useState)(r.gender),V=(0,u.Z)(P,2),F=V[0],_=V[1],A=function(e,n){"nickname"===n?E(e.target.value):"age"===n?D(e):"gender"===n&&_(e)},H=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,M(n.target.files[0]),a.append("images",n.target.files[0]),e.next=5,(0,s.T9)(r.id,a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),M=function(e){var n=new FileReader;return n.readAsDataURL(e),new Promise((function(e){n.onload=function(){N(n.result),e()}}))},B=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=q,e.next=3,(0,x.Z)(T);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var a,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={nickname:T,age:z,gender:F},"available"!==I){e.next=8;break}return e.next=4,(0,s.Lj)(r.id,a);case 4:200===(u=e.sent).RESULT&&(w(u.user),(0,h.Z)(m.z9,"green"),setTimeout((function(){n("/")}),1e3)),e.next=10;break;case 8:Z.current.focus(),(0,h.Z)(m.Mi,"yellow");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,b.jsxs)("div",{className:"userinfo-container",children:[(0,b.jsxs)("div",{className:"profile-img-container",children:[(0,b.jsx)(l.q,{size:120,src:y,radius:"xl",className:"profile-img"}),(0,b.jsx)("div",{style:{fontWeight:"bold"},children:r.email}),(0,b.jsxs)("div",{className:"profile-img-edit",children:[(0,b.jsx)("input",{style:{display:"none"},ref:k,type:"file",className:"imgInput",accept:"image/*",name:"file",onChange:function(e){return H(e)}}),(0,b.jsx)("button",{onClick:function(e){e.preventDefault(),k.current.click()},children:"\uc0ac\uc9c4 \uc218\uc815"})]})]}),(0,b.jsxs)("div",{className:"profile-input",children:[(0,b.jsxs)(o.I.Wrapper,{label:"\ub2c9\ub124\uc784",required:!0,children:["\xa0",(0,b.jsxs)("span",{style:{fontSize:"12px"},children:["(",T.length,"/8\uc790)"]}),(0,b.jsx)(o.I,{maxLength:8,placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694.",onChange:function(e){return A(e,"nickname")},defaultValue:T,ref:Z})]}),(0,b.jsxs)("div",{className:"nickname-check",children:[(0,b.jsx)("button",{onClick:function(e){return B(e)},children:"\uc911\ubcf5\uccb4\ud06c"}),"empty"===I?(0,b.jsx)("span",{className:"unavailable",children:"\ub2c9\ub124\uc784 \uc911\ubcf5\uccb4\ud06c\ub97c \ud574\uc8fc\uc138\uc694."}):"available"===I?(0,b.jsx)("span",{className:"available",children:"\uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4."}):(0,b.jsx)("span",{className:"unavailable",children:"\uc774\ubbf8 \uc0ac\uc6a9\uc911\uc778 \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4."})]})]}),(0,b.jsx)("div",{className:"profile-input",children:(0,b.jsx)(o.I.Wrapper,{label:"\ub098\uc774",required:!0,children:(0,b.jsx)(f.Ph,{placeholder:"\ubcf8\uc778 \uc5f0\ub839\ub300\ub97c \uc120\ud0dd\ud558\uc138\uc694.",data:v.e,defaultValue:z,onChange:function(e){return A(e,"age")}})})}),(0,b.jsx)("div",{className:"profile-input",children:(0,b.jsx)(o.I.Wrapper,{label:"\uc131\ubcc4",required:!0,children:(0,b.jsx)(f.Ph,{placeholder:"\uc131\ubcc4\uc744 \uc120\ud0dd\ud558\uc138\uc694.",data:v.y,defaultValue:F,onChange:function(e){return A(e,"gender")}})})}),(0,b.jsx)("div",{className:"profile-btn",children:(0,b.jsx)("button",{onClick:G,children:"\ud504\ub85c\ud544 \uc218\uc815\ud558\uae30"})})]})}},8144:function(e,n,r){var t=r(4165),a=r(5861),u=r(9320),c=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={nickname:n},""!==n){e.next=3;break}return e.abrupt("return","empty");case 3:return e.next=5,(0,u.o8)(r);case 5:if(200!==(a=e.sent).RESULT){e.next=10;break}return e.abrupt("return","available");case 10:if(403!==a.RESULT){e.next=12;break}return e.abrupt("return","unavailable");case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();n.Z=c},2670:function(e,n,r){r.d(n,{e:function(){return t},y:function(){return a}});var t=[{value:"10~19",label:"10\ub300"},{value:"20~29",label:"20\ub300"},{value:"30~39",label:"30\ub300"},{value:"40~49",label:"40\ub300"},{value:"50~59",label:"50\ub300"},{value:"60~69",label:"60\ub300"}],a=[{value:"male",label:"\ub0a8\uc790"},{value:"female",label:"\uc5ec\uc790"}]}}]);
//# sourceMappingURL=559.01318b3d.chunk.js.map