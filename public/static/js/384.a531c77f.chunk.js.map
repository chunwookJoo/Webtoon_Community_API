{"version":3,"file":"static/js/384.a531c77f.chunk.js","mappings":"iUAcMA,GAAW,IAAIC,MAAOC,SAEtBC,GAAQ,wBACRC,EAFO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAER,IAAbJ,EAAiB,EAAIA,EAAW,GACnDK,EAAO,EA2DX,EAzDoB,WACnB,OAA2BC,EAAAA,EAAAA,MAArBC,EAAN,EAAMA,OAAQC,EAAd,EAAcA,SACRC,EAA6B,GAAPJ,EACtBK,EAAQC,IAAAA,MAASJ,EAAQ,CAAEK,mBAAmB,IACpD,GAAsCC,EAAAA,EAAAA,UAAS,CAACV,IAAhD,eAAOW,EAAP,KAAoBC,EAApB,MAEAC,EAAAA,EAAAA,YAAU,WACTX,EAAO,GACP,uBAAC,wGACAU,EAAe,EAAC,SAACE,EAAA,EAAD,MACVC,EACQ,MAAbV,EACG,OACa,eAAbA,EACA,cACAA,GACHE,EAAMS,OAAST,EAAMS,KAAOf,GACvBgB,EACU,QAAfV,EAAMS,KACH,YACe,QAAfT,EAAMS,KACN,OACA,aAAeT,EAAMS,KAdzB,SAeuBE,IAAAA,IACtBC,EAAAA,GAAU,OAASJ,EAAeE,GAhBnC,uBAeQG,EAfR,EAeQA,KAfR,UAkB0BA,EAAKC,KAAI,SAACC,GAAD,OAClC,SAACC,EAAA,EAAD,CAASC,YAAaF,GADY,IAlBnC,QAkBMG,EAlBN,OAqBAb,EAAea,GArBf,2CAAD,EAuBA,GAAE,CAAClB,EAAMS,KAAMX,IAEhB,OAAiCqB,EAAAA,EAAAA,MAAjC,eAAOC,EAAP,WACiBzB,IAEjB,IAAM0B,EACLtB,EAAsBK,EAAYkB,QAAU,GAAKlB,EAAYkB,QAC5D,eAAIC,IAAKH,EAASI,UAAU,UAA5B,UACC,SAAC,IAAD,CAAiBC,KAAK,KAAKC,KAAMC,EAAAA,IAAWC,MAAI,MAGjDnC,EAEIoC,EAAqBzB,EAAY0B,MAAM,EAAU,GAAPnC,GAGhD,OAFAkC,EAAmBE,KAAKV,IAGvB,6BACC,oBAASG,UAAU,wBACnB,oBAASA,UAAU,qBAAnB,UACC,eAAIA,UAAU,eAAd,SAA8BK,QAIjC,C","sources":["pages/WebtoonPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useInView } from \"react-intersection-observer\";\r\n\r\nimport Loading from \"../components/Loading\";\r\nimport Webtoon from \"../components/Webtoon\";\r\nimport axios from \"axios\";\r\nimport qs from \"qs\";\r\n\r\nimport \"../assets/scss/pages/webtoonPage.scss\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { API_URL } from \"../config\";\r\n\r\nconst todayNum = new Date().getDay();\r\nconst week = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\"];\r\nconst EMPTY = <></>;\r\nconst todayWeek = week[todayNum === 0 ? 6 : todayNum - 1];\r\nlet part = 2;\r\n\r\nconst WebtoonPage = () => {\r\n\tlet { search, pathname } = useLocation();\r\n\tconst visibleWebtoonCount = part * 12;\r\n\tconst query = qs.parse(search, { ignoreQueryPrefix: true });\r\n\tconst [webtoonList, setWebtoonList] = useState([EMPTY]);\r\n\r\n\tuseEffect(() => {\r\n\t\tpart = 2;\r\n\t\t(async () => {\r\n\t\t\tsetWebtoonList([<Loading />]);\r\n\t\t\tconst PLATFORM_URL =\r\n\t\t\t\tpathname === \"/\"\r\n\t\t\t\t\t? \"/all\"\r\n\t\t\t\t\t: pathname === \"/kakaoPage\"\r\n\t\t\t\t\t? \"/kakao-page\"\r\n\t\t\t\t\t: pathname;\r\n\t\t\t!query.week && (query.week = todayWeek);\r\n\t\t\tconst WEEK_URL =\r\n\t\t\t\tquery.week === \"fin\"\r\n\t\t\t\t\t? \"/finished\"\r\n\t\t\t\t\t: query.week === \"new\"\r\n\t\t\t\t\t? \"/new\"\r\n\t\t\t\t\t: \"/week?day=\" + query.week;\r\n\t\t\tconst { data } = await axios.get(\r\n\t\t\t\tAPI_URL + \"/api\" + PLATFORM_URL + WEEK_URL,\r\n\t\t\t);\r\n\t\t\tconst WebtoonList = await data.map((webtoon) => (\r\n\t\t\t\t<Webtoon webtoonData={webtoon} />\r\n\t\t\t));\r\n\t\t\tsetWebtoonList(WebtoonList);\r\n\t\t})();\r\n\t}, [query.week, pathname]);\r\n\r\n\tconst [moreRef, isMoreRefShow] = useInView();\r\n\tisMoreRefShow && part++;\r\n\r\n\tconst More =\r\n\t\tvisibleWebtoonCount < webtoonList.length && 24 < webtoonList.length ? (\r\n\t\t\t<li ref={moreRef} className=\"loading\">\r\n\t\t\t\t<FontAwesomeIcon size=\"xl\" icon={faSpinner} spin />\r\n\t\t\t</li>\r\n\t\t) : (\r\n\t\t\tEMPTY\r\n\t\t);\r\n\tconst VisibleWebtoonList = webtoonList.slice(0, part * 12);\r\n\tVisibleWebtoonList.push(More);\r\n\r\n\treturn (\r\n\t\t<main>\r\n\t\t\t<section className=\"contents-container\"></section>\r\n\t\t\t<section className=\"contents-container\">\r\n\t\t\t\t<ul className=\"webtoon-list\">{VisibleWebtoonList}</ul>\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n};\r\n\r\nexport default WebtoonPage;\r\n"],"names":["todayNum","Date","getDay","EMPTY","todayWeek","part","useLocation","search","pathname","visibleWebtoonCount","query","qs","ignoreQueryPrefix","useState","webtoonList","setWebtoonList","useEffect","Loading","PLATFORM_URL","week","WEEK_URL","axios","API_URL","data","map","webtoon","Webtoon","webtoonData","WebtoonList","useInView","moreRef","More","length","ref","className","size","icon","faSpinner","spin","VisibleWebtoonList","slice","push"],"sourceRoot":""}